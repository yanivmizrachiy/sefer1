# כללים (מסמך יחיד ומחייב)

מסמך זה הוא מקור האמת היחיד לכללי העבודה בפרויקט.

## כלל עליון: מסמך כללים יחיד

- אסור ליצור/להחזיק במאגר דפי כללים נוספים (כמו “כללים2”, “CLALIM…”, “rules…”, וכו').
- כל כלל חדש נכנס **אך ורק** למסמך זה: `כללים.md`.

## שמות קבצים בעברית (מעכשיו)

- כל דף/מסמך חדש שמתווסף לפרויקט (בעיקר `*.md` ועמודי תוכן) יקבל שם קובץ בעברית.
- חריגים טכניים מקובלים בלבד (קבצים שחייבים שם קבוע כדי שהכלים יעבדו).

### חריגים טכניים (לא משנים שם)

- `README.md` (לתצוגת GitHub)
- `אתר/index.html`, `אתר/styles.css`, ויתר קבצי האתר שה־URLs שלהם קבועים
- `.vscode/*` (קונפיגורציית VS Code)
- `.githooks/post-commit` (שם hook מחויב)
- `.git*` (קבצי מערכת)
- `tools/persistent-dev.ps1` (תאימות למשימות VS Code / סביבת הרצה)

## כלל ברזל (מחייב)

בזמן עבודה על האתר, חייב להיות פתוח בתוך VS Code חלון פנימי (Simple Browser) שמציג את האתר **בלייב** — **באופן קבוע** — והשרת חייב לרוץ ברקע. אם החלון נסגר/השרת נעצר/הדף לא נטען — עוצרים ומתקנים לפני שממשיכים לעבוד.

## תצוגה חיה בחלון פנימי (VS Code)

### איך מפעילים (קבוע)

- המשימה **DEV: Persistent Mode (serve + external browser + VS Code Simple Browser)** מוגדרת לרוץ אוטומטית בפתיחת התיקייה.
- המשימה מרימה `live-server`, פותחת דפדפן חיצוני, וגם פותחת את האתר בחלון פנימי דרך **Simple Browser**.

### אם החלון הפנימי לא נפתח

- Command Palette → `Simple Browser: Show`
- הדבק את ה־URL שמופיע בטרמינל אחרי `DEV_SERVER_READY` (לדוגמה: `http://127.0.0.1:5500/%D7%90%D7%AA%D7%A8/index.html`).

### עצירה

- להריץ את המשימה: **Persistent Mode: Stop (kill task terminal)**
- או: Terminal → Kill Terminal של המשימה.

## GitHub-first (מקור האמת)

המאגר ב־GitHub הוא מקור האמת היחיד. תצוגה מקומית היא כלי עבודה בלבד.

- אם זה לא ב־`commit` ולא ב־GitHub — זה לא קיים.
- לא מסתמכים על מצב מקומי: קבצים לא שמורים, הגדרות מקומיות בלבד, או שינויים שלא נדחפו.

### תהליך עבודה (Multi-device)

1. לפני עבודה: `git pull`
2. בזמן עבודה: לשמור קבצים ולוודא שהתצוגה החיה מתעדכנת.
3. אחרי שינוי משמעותי: `git add` → `git commit` (ה־push מתבצע אוטומטית אחרי commit)

### כלל חדש: כל דרישה = כללים + GitHub

- כל דרישה/כלל חדש או שינוי דרישה קיימת חייבים להיכנס ל־`כללים.md` **באותו שינוי** לפני שעושים `commit`.
- אחרי `commit`, הסנכרון ל־GitHub מתבצע אוטומטית (דרך hook), כך שבפועל "זה קיים" רק אחרי commit.

## יומן עדכונים (חובה)

כל שינוי בפרויקט חייב להירשם בקצרה כדי לשמור עקביות ולהבין מה השתנה ולמה.

### מה נחשב “עדכון” שחייב להירשם

- אתר (`אתר/`), תיעוד (`README.md`, קבצי `*.md`), הגדרות (`.vscode/`), סקריפטים (`כלים/`), פרומפטים (`פרומפטים/`).
- כל שינוי שבוצע בעקבות בקשה/מסר בשיחה.

### איך רושמים

- בכל שינוי: להוסיף שורה חדשה עם תאריך (YYYY-MM-DD), מה השתנה (קבצים/אזור), וסיבה קצרה.

### רשומות

- 2026-02-08 — הוגדרה תצוגה חיה קבועה ב־VS Code + Theme בהיר ל־workspace + עדכון דף כללים.
- 2026-02-08 — נוספו דפי אתר: שיעורים פרטיים + יומן, ונוסף ניווט אליהם בעמוד הכניסה.
- 2026-02-08 — תוקנה משימת DEV כך שתיפתח תמיד תצוגת `אתר/` (ללא תלות בנתיבים ישנים).
- 2026-02-08 — הוחלו כללי "שיעורים פרטיים" ו"יומן" גם בדפי האתר עצמם (ניווט וקישורים מחייבים).
- 2026-02-08 — נוסף כלל הפרדת HTML/CSS, והוסר inline CSS מדף ההשתלמויות.
- 2026-02-08 — נוסף קישור קבוע לאתר ב־`README.md` כדי שיופיע בעמוד הריפו ב־GitHub.
- 2026-02-08 — נוספה בעמוד הכניסה תצוגה חודשית של היומן (לוח חודש עם כפתורי מעבר בצד שמאל וקישורים ל־commits לפי יום).
- 2026-02-08 — עודכנה תצוגת היומן החודשית: משבצות גדולות יותר ושמות מלאים לימי השבוע.
- 2026-02-08 — היומן החודשי נפתח לעמוד יומי מסונכרן; שבת מסומנת תמיד בסגול בהיר.
- 2026-02-08 — נוסף בעמוד הכניסה רכיב "משימות לביצוע" בצד שמאל, עם שמירה אמיתית של הנתונים.
- 2026-02-08 — עמוד הכניסה עבר לתצוגה שבועית (שבוע אמיתי ראשון–שבת) + כפתור לתצוגה חודשית + ניווט קודם/הבא בעמוד יומי.
- 2026-02-08 — עודכנה תצוגת היומן: היום (היום) צבוע תמיד בירוק בשבועי ובחודשי; היומן השבועי הוגדל פי 3; ורשימת המשימות נמתחה לרשימה מאורכת משמאל.
- 2026-02-08 — שופרה קריאות: טקסט היומן השבועי הוגדל/חוזק, וכותרת העליונה בעמוד הראשי הוחלשה (עדינה יותר).
- 2026-02-08 — עמוד הכניסה: הוסרה כותרת עליונה ("האתר של יניב רז") כדי להרים את התוכן למעלה; הוסרו טקסטים מיותרים; היומן השבועי והמשימות מוצגים באותה שורה לרוחב כל המסך.
- 2026-02-08 — עמוד הכניסה: הוחלפה הכותרת "ניווט באתר" בתצוגה חיה של תאריך+שעה (מתעדכן כל הזמן); בתצוגה שבועית הוסר תאריך קטן שהיה כתוב פעמיים.
- 2026-02-08 — נוסף בעמוד הראשי רכיב "משימות לביצוע" עם שמירה אמיתית של משימות.
- 2026-02-08 — הובהר כלל: כל דרישה חדשה חייבת להתעדכן ב־`כללים.md` לפני `commit`, ו־push נעשה אוטומטית אחרי commit.
- 2026-02-08 — נוסף פס ניווט אחיד (כפתורים) בין כל דפי האתר המרכזיים.

## עמוד כניסה (ניווט חובה)

בעמוד הכניסה של האתר `אתר/index.html` חייבים להיות לחצנים שמובילים לפחות ל:

- דף ההשתלמויות: `אתר/hishtalmut.html`
- דף שיעורים פרטיים: `אתר/שיעורים-פרטיים.html`
- דף יומן: `אתר/יומן.html`

### כותרת עליונה בעמוד הכניסה (תאריך+שעה)

- בראש עמוד הכניסה, במקום הכיתוב "ניווט באתר", חייב להופיע **תאריך של היום + שעה מדויקת** שמתעדכנים אוטומטית.
- התצוגה חייבת להיות תמיד נכונה לרגע הנוכחי (כולל שניות), ולהתעדכן לפחות פעם בשנייה.
- פורמט מומלץ ופשוט: `יום/חודש/שנה שעה:דקות:שניות` (למשל `8/2/2026 09:04:07`).

### משימות לביצוע (בעמוד הכניסה)

- בעמוד הכניסה חייב להופיע בצד שמאל מלבן גדול בצבע צהוב שמציג "משימות לביצוע".
- הוספת משימה חייבת להיות נוחה (שדה טקסט + כפתור הוספה).
- רשימת המשימות חייבת להישמר **באופן אמיתי** בין רענונים/סגירת דפדפן (למשל באמצעות `localStorage`).
- פריסת עמוד הכניסה חייבת להיות רחבה ונוחה: "משימות לביצוע" ו"יומן שבועי" נמצאים **באותה שורה** (2 עמודות) ותופסים את **כל רוחב המסך**.
- בעמודה השמאלית: משימות לביצוע. בעמודה הימנית: יומן שבועי.
- רשימת המשימות חייבת להיות "מאורכת" בצד שמאל (פאנל גבוה + רשימה שניתן לגלול בה כשיש הרבה משימות).

- ניהול המשימות חייב לכלול: הוספה, סימון כבוצע, ומחיקה.
- המשימות חייבות להישמר "שמירה אמיתית" מקומית בדפדפן (למשל `localStorage`) כך שרענון דף לא מוחק אותן.

### יומן שבועי (בעמוד הכניסה)

- בעמוד הכניסה חייבת להיות תצוגה שבועית של **שבוע אמיתי** (ראשון–שבת) עבור השבוע הנוכחי.
- סדר הימים בתצוגה השבועית חייב להיות נוח לקריאה (בהתאמה ל־RTL): ראשון בצד ימין, שבת בצד שמאל.
- פורמט התאריך שמוצג בכותרת התצוגה השבועית חייב להיות קצר ונוח: `יום/חודש` (למשל `9/9`).
- אסור להציג את אותו תאריך פעמיים בתוך אותה משבצת/כרטיס (למשל תאריך קטן שחוזר על עצמו בנוסף למידע שכבר מוצג).
- היום (של היום) חייב להיות צבוע תמיד בירוק בתצוגה השבועית.
- היומן השבועי חייב להיות גדול וברור — בערך פי 3 מהגודל הקודם (משבצות גבוהות יותר וטקסט גדול יותר).
- לחיצה על יום בתצוגה השבועית חייבת לפתוח **עמוד יומי** בתוך האתר שמציג את ה־commits של אותו יום (מסונכרן מול GitHub).
- ימי שבת בתצוגה השבועית חייבים להיות צבועים תמיד בסגול בהיר.
- חייב להיות כפתור "חודשי"/"תצוגה חודשית" שמוביל לתצוגת חודש.

### יומן חודשי (עמוד נפרד)

- תצוגת היומן החודשית חייבת להיות בעמוד נפרד (למשל `אתר/יומן-חודשי.html`).
- בתצוגה החודשית חייבים להופיע שמות מלאים לימי השבוע ("ראשון", "שני", וכו') והם חייבים להיות מודגשים לקריאות.
- לחיצה על יום בתצוגה החודשית חייבת לפתוח את העמוד היומי.
- ימי שבת בתצוגה החודשית חייבים להיות צבועים תמיד בסגול בהיר.
- היום (של היום) חייב להיות צבוע תמיד בירוק בתצוגה החודשית.

### יומן יומי (עמוד נפרד)

- העמוד היומי חייב להציג רשימת commits לתאריך הנבחר (מסונכרן מול GitHub).
- בעמוד היומי חייבים להיות כפתורי ניווט: יום קודם, היום, יום הבא.

## ניווט בין כל דפי האתר (חובה)

בכל דף אתר מרכזי חייב להופיע פס ניווט עם כפתורים שמובילים לכל דפי האתר המרכזיים:

- `אתר/index.html` (עמוד כניסה)
- `אתר/hishtalmut.html` (השתלמויות)
- `אתר/שיעורים-פרטיים.html` (שיעורים פרטיים)
- `אתר/יומן.html` (יומן)
- `אתר/about.html` (אודות)

## הפרדת HTML/CSS (חובה)

האתר חייב לשמור על הפרדה מלאה בין מבנה (HTML) לעיצוב (CSS).

### כללים

- אסור להשתמש ב־`<style>...</style>` בתוך קבצי HTML.
- אסור להשתמש ב־`style="..."` (inline styles) בתוך תגיות HTML.
- כל העיצוב נכנס ל־`אתר/styles.css` בלבד.
- שינויי מצב דינמיים (הסתרה/הצגה) נעשים דרך `hidden` או דרך מחלקות CSS שמוגדרות ב־`אתר/styles.css` (לא דרך inline).

## שיעורים פרטיים (דף אתר)

דף זה הוא עמוד קבוע באתר שמרכז קישורי תיאום/יצירת קשר.

### מיקום

- `אתר/שיעורים-פרטיים.html`

### חובה בעמוד

- כותרת ברורה + קישור חזרה לעמוד הראשי.
- לחצן ראשי שמוביל לפרופיל GitHub (כנתיב יצירת קשר יחיד/מרכזי, אלא אם נוסיף בעתיד פרטי קשר רשמיים).
- קישור ל"יומן" (כדי להבין מה עודכן בפרויקט) וקישור לעמוד ההשתלמויות.

### אסור

- לא מפרסמים טקסט דמו/טיוטה/"בקרוב".
- לא מוסיפים פרטים/מחירים/הבטחות שלא הוגדרו במפורש.

## יומן (דף אתר)

דף זה מספק נקודת כניסה מסודרת למעקב שינויים לפי GitHub-first.

### מיקום

- `אתר/יומן.html`

### חובה בעמוד

- קישור להיסטוריית ה־commits של הריפו.
- קישור למסמך הכללים (כולל "יומן עדכונים").
- כותרת + קישור חזרה לעמוד הראשי.

### אסור

- לא מכפילים פה תוכן ארוך של היסטוריה; המקור הוא GitHub.

## בלי טקסט “דמו” / מקום־מחזיק

אסור להשאיר/לפרסם תוכן שנראה כמו דמו/טיוטה/דוגמה, אלא אם ביקשת במפורש.

- אסור בתוכן שמופיע למשתמשים: `demo`, `דמו`, `sample`, `placeholder`, `lorem ipsum`, `TODO`, `TBD`, “בקרוב”.
- אם חסר מידע/קישור — משאירים אותו בחוץ עד שיש ניסוח/URL סופי.

## גרפיקה לאתר (אתר) — כלים וכללים

### כלים

- Figma — עיצוב מסכים ורכיבי UI, ייצוא SVG/PNG.
- Inkscape — עריכת SVG.
- Squoosh — כיווץ תמונות.
- SVGO — כיווץ וניקוי SVG.

### פורמטים

- SVG: אייקונים/לוגואים.
- WebP/AVIF: תמונות.
- PNG: רק כשצריך שקיפות אמיתית.
- JPEG: אם חייבים תאימות מקסימלית.

### שמות קבצים

- באנגלית, `kebab-case`, בלי רווחים.

### רישוי

- מעלים למאגר רק נכסים שיש לך זכות שימוש בהם.

## השתלמויות (hishtalmut)

דף זה מגדיר את הכללים לנתוני ההשתלמויות בדף `אתר/hishtalmut.html`.

### עקרונות

- GitHub הוא מקור האמת היחיד לנתוני ההשתלמויות.
- הנתונים נשמרים בקובץ: `אתר/hishtalmut-data.json`.
- כל שינוי בנתונים חייב לעבור דרך: עריכה → `commit` → `push`.

### מבנה נתונים (דוגמה)

```json
{
  "title": "השתלמות בתנ\"ך – ספר ישעיהו",
  "month": "מרץ",
  "dayOfMonth": 13,
  "weekday": "יום שני",
  "timeRange": "19:30–22:00",
  "hoursTotal": 2.5,
  "category": "תנ\"ך",
  "tags": ["מקצועי", "העמקה"]
}
```

#### שדות חובה

- `title`, `month`, `dayOfMonth`, `weekday`, `timeRange`, `hoursTotal`

#### שדות מומלצים

- `category`, `tags`

## סנכרון אוטומטי ל־GitHub (אחרי commit)

כדי שכל `commit` ידחוף אוטומטית ל־GitHub, הפרויקט משתמש ב־git hooks.

- בפתיחת התיקייה, רצה משימת Setup שמגדירה `core.hooksPath` ל־`.githooks`.
- אחרי כל `commit`, hook מסוג `post-commit` מריץ `git push` לענף הנוכחי.

### חשוב

- זה לא מבצע `commit` אוטומטי לכל שינוי (כדי לא ליצור היסטוריה לא נשלטת). עדיין עובדים לפי: שינוי → בדיקה בלייב → commit → (push אוטומטי).
- אם אין הרשאות/רשת/התחברות — ה־push ייכשל ותצטרך לפתור את ההתחברות ואז להריץ `git push` ידנית.
