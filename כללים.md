# כללים (מסמך יחיד ומחייב)

מסמך זה הוא מקור האמת היחיד לכללי העבודה בפרויקט.

## כלל עליון: מסמך כללים יחיד

- אסור ליצור/להחזיק במאגר דפי כללים נוספים (כמו “כללים2”, “CLALIM…”, “rules…”, וכו').
- כל כלל חדש נכנס **אך ורק** למסמך זה: `כללים.md`.

## שמות קבצים בעברית (מעכשיו)

- כל דף/מסמך חדש שמתווסף לפרויקט (בעיקר `*.md` ועמודי תוכן) יקבל שם קובץ בעברית.
- חריגים טכניים מקובלים בלבד (קבצים שחייבים שם קבוע כדי שהכלים יעבדו).

### חריגים טכניים (לא משנים שם)

- `README.md` (לתצוגת GitHub)
- `אתר/index.html`, `אתר/styles.css`, ויתר קבצי האתר שה־URLs שלהם קבועים
- `.vscode/*` (קונפיגורציית VS Code)
- `.githooks/post-commit` (שם hook מחויב)
- `.git*` (קבצי מערכת)
- `tools/persistent-dev.ps1` (תאימות למשימות VS Code / סביבת הרצה)

## כלל ברזל (מחייב)

בזמן עבודה על האתר, חייב להיות פתוח בתוך VS Code חלון פנימי (Simple Browser) שמציג את האתר **בלייב** — **באופן קבוע** — והשרת חייב לרוץ ברקע. אם החלון נסגר/השרת נעצר/הדף לא נטען — עוצרים ומתקנים לפני שממשיכים לעבוד.

## תצוגה חיה בחלון פנימי (VS Code)

### איך מפעילים (קבוע)

- המשימה **DEV: Persistent Mode (serve + external browser + VS Code Simple Browser)** מוגדרת לרוץ אוטומטית בפתיחת התיקייה.
- המשימה מרימה `live-server`, פותחת דפדפן חיצוני, וגם פותחת את האתר בחלון פנימי דרך **Simple Browser**.

### אם החלון הפנימי לא נפתח

- Command Palette → `Simple Browser: Show`
- הדבק את ה־URL שמופיע בטרמינל אחרי `DEV_SERVER_READY` (לדוגמה: `http://127.0.0.1:5500/%D7%90%D7%AA%D7%A8/index.html`).

### עצירה

- להריץ את המשימה: **Persistent Mode: Stop (kill task terminal)**
- או: Terminal → Kill Terminal של המשימה.

## GitHub-first (מקור האמת)

המאגר ב־GitHub הוא מקור האמת היחיד. תצוגה מקומית היא כלי עבודה בלבד.

- אם זה לא ב־`commit` ולא ב־GitHub — זה לא קיים.
- לא מסתמכים על מצב מקומי: קבצים לא שמורים, הגדרות מקומיות בלבד, או שינויים שלא נדחפו.

### חריג מותר: נתונים אישיים מקומיים (UI)

- מותר לשמור **נתונים אישיים לצורכי שימושיות** מקומית בדפדפן (למשל משימות לביצוע והערות ליום) באמצעות `localStorage`.
- הנתונים האלה אינם חלק מ"מקור האמת" של הפרויקט, אינם נחשבים תחליף ל־GitHub, ולא מובטחים לסנכרון בין מכשירים.

### תהליך עבודה (Multi-device)

1. לפני עבודה: `git pull`
2. בזמן עבודה: לשמור קבצים ולוודא שהתצוגה החיה מתעדכנת.
3. אחרי שינוי משמעותי: `git add` → `git commit` (ה־push מתבצע אוטומטית אחרי commit)

### כלל חדש: כל דרישה = כללים + GitHub

- כל דרישה/כלל חדש או שינוי דרישה קיימת חייבים להיכנס ל־`כללים.md` **באותו שינוי** לפני שעושים `commit`.
- אחרי `commit`, הסנכרון ל־GitHub מתבצע אוטומטית (דרך hook), כך שבפועל "זה קיים" רק אחרי commit.

## יומן עדכונים (חובה)

כל שינוי בפרויקט חייב להירשם בקצרה כדי לשמור עקביות ולהבין מה השתנה ולמה.

### מה נחשב “עדכון” שחייב להירשם

- אתר (`אתר/`), תיעוד (`README.md`, קבצי `*.md`), הגדרות (`.vscode/`), סקריפטים (`כלים/`), פרומפטים (`פרומפטים/`).
- כל שינוי שבוצע בעקבות בקשה/מסר בשיחה.

### איך רושמים

- בכל שינוי: להוסיף שורה חדשה עם תאריך (YYYY-MM-DD), מה השתנה (קבצים/אזור), וסיבה קצרה.

### רשומות

- 2026-02-08 — הוגדרה תצוגה חיה קבועה ב־VS Code + Theme בהיר ל־workspace + עדכון דף כללים.
- 2026-02-08 — נוספו דפי אתר: שיעורים פרטיים + יומן, ונוסף ניווט אליהם בעמוד הכניסה.
- 2026-02-08 — תוקנה משימת DEV כך שתיפתח תמיד תצוגת `אתר/` (ללא תלות בנתיבים ישנים).
- 2026-02-08 — הוחלו כללי "שיעורים פרטיים" ו"יומן" גם בדפי האתר עצמם (ניווט וקישורים מחייבים).
- 2026-02-08 — נוסף כלל הפרדת HTML/CSS, והוסר inline CSS מדף ההשתלמויות.
- 2026-02-08 — נוסף קישור קבוע לאתר ב־`README.md` כדי שיופיע בעמוד הריפו ב־GitHub.
- 2026-02-08 — נוספה בעמוד הכניסה תצוגה חודשית של היומן (לוח חודש עם כפתורי מעבר בצד שמאל וקישורים ל־commits לפי יום).
- 2026-02-08 — עודכנה תצוגת היומן החודשית: משבצות גדולות יותר ושמות מלאים לימי השבוע.
- 2026-02-08 — היומן החודשי נפתח לעמוד יומי מסונכרן; שבת מסומנת תמיד בסגול בהיר.
- 2026-02-08 — נוסף בעמוד הכניסה רכיב "משימות לביצוע" בצד שמאל, עם שמירה אמיתית של הנתונים.
- 2026-02-08 — עמוד הכניסה עבר לתצוגה שבועית (שבוע אמיתי ראשון–שבת) + כפתור לתצוגה חודשית + ניווט קודם/הבא בעמוד יומי.
- 2026-02-08 — עודכנה תצוגת היומן: היום (היום) צבוע תמיד בירוק בשבועי ובחודשי; היומן השבועי הוגדל פי 3; ורשימת המשימות נמתחה לרשימה מאורכת משמאל.
- 2026-02-08 — שופרה קריאות: טקסט היומן השבועי הוגדל/חוזק, וכותרת העליונה בעמוד הראשי הוחלשה (עדינה יותר).
- 2026-02-08 — עמוד הכניסה: הוסרה כותרת עליונה ("האתר של יניב רז") כדי להרים את התוכן למעלה; הוסרו טקסטים מיותרים; היומן השבועי והמשימות מוצגים באותה שורה לרוחב כל המסך.
- 2026-02-08 — עמוד הכניסה: הוחלפה הכותרת "ניווט באתר" בתצוגה חיה של תאריך+שעה (מתעדכן כל הזמן); בתצוגה שבועית הוסר תאריך קטן שהיה כתוב פעמיים.
- 2026-02-08 — נוסף בעמוד הראשי רכיב "משימות לביצוע" עם שמירה אמיתית של משימות.
- 2026-02-08 — הובהר כלל: כל דרישה חדשה חייבת להתעדכן ב־`כללים.md` לפני `commit`, ו־push נעשה אוטומטית אחרי commit.
- 2026-02-08 — נוסף פס ניווט אחיד (כפתורים) בין כל דפי האתר המרכזיים.
- 2026-02-08 — בעמוד יומן יומי נוספה כותרת שכוללת גם יום בשבוע, ונוסף אזור "הערות ליום" עם שמירה אמיתית (מקומית בדפדפן).
- 2026-02-08 — בעמוד הכניסה התאריך+שעה כוללים גם יום בשבוע; רענון ה־Simple Browser הוחלש כדי לא לגרום להבהוב.
- 2026-02-08 — תצוגה שבועית: כל 7 הימים מוצגים יחד, ובכל משבצת מוצג תאריך בפורמט יום/חודש.
- 2026-02-08 — תצוגה חודשית: קישורים לעמוד היומי מעבירים owner/repo/branch כדי לשמור עקביות בטעינה ובשמירת הערות.
- 2026-02-08 — עמוד הכניסה: הוסרו טקסטים "נשמר מקומית" מה־UI; בתצוגה שבועית כפתור חודשי צבוע אדום ונוסף כפתור יומי כתום שפותח את היום.
- 2026-02-08 — עמוד הכניסה: התצוגה השבועית נפרסת על כל רוחב העמוד; "משימות" עברו לפאנל נסתר שנפתח/נסגר בלחיצה על כפתור "משימות" בשורת הכפתורים העליונה.
- 2026-02-08 — תצוגה שבועית: נוספו כפתורים "שבוע קודם" ו"שבוע הבא" ליד כותרת התצוגה השבועית (ניווט לפי `weekOffset` ב־URL).
- 2026-02-08 — נוספו פרשת שבוע וזמני שבת אמיתיים (ירושלים) לתצוגה השבועית ולעמוד היומי (שישי/שבת), עם קרדיט ל־Hebcal.
- 2026-02-08 — סנכרון אמיתי בין מכשירים: נוסף שדה `Gist ID` ב־UI ותהליך עבודה ברור כדי שכל המכשירים יסנכרנו מול אותו Gist (ולא ייצרו Gists שונים בטעות).
- 2026-02-08 — סנכרון לא־מקומי גם בדפדפן חיצוני: תמיכה ב־`gistId` ב־URL + משיכה אוטומטית כשאין נתונים מקומיים (כדי שפתיחה מחוץ ל־VS Code תראה נתונים אמיתיים).

## עמוד כניסה (ניווט חובה)

בעמוד הכניסה של האתר `אתר/index.html` חייבים להיות לחצנים שמובילים לפחות ל:

- דף ההשתלמויות: `אתר/hishtalmut.html`
- דף שיעורים פרטיים: `אתר/שיעורים-פרטיים.html`
- דף יומן: `אתר/יומן.html`

### כותרת עליונה בעמוד הכניסה (תאריך+שעה)

- בראש עמוד הכניסה, במקום הכיתוב "ניווט באתר", חייב להופיע **תאריך של היום + שעה מדויקת** שמתעדכנים אוטומטית.
- התצוגה חייבת להיות תמיד נכונה לרגע הנוכחי (כולל שניות), ולהתעדכן לפחות פעם בשנייה.
- בנוסף, חייב להופיע גם **שם היום** (למשל "יום רביעי").
- פורמט מומלץ ופשוט: `יום בשבוע — יום/חודש/שנה שעה:דקות:שניות` (למשל `יום רביעי — 8/2/2026 09:04:07`).

### משימות לביצוע (בעמוד הכניסה)

- בעמוד הכניסה חייב להיות כפתור עליון בשם **"משימות"** שנמצא יחד עם שאר כפתורי הניווט.
- המשימות **לא** מוצגות כברירת מחדל; רק בלחיצה על כפתור "משימות" נפתח/נסגר פאנל "משימות לביצוע".
- הוספת משימה חייבת להיות נוחה (שדה טקסט + כפתור הוספה).
- רשימת המשימות חייבת להישמר **באופן אמיתי** בין רענונים/סגירת דפדפן (למשל באמצעות `localStorage`).

- פריסת עמוד הכניסה חייבת להיות ממוקדת ביומן השבועי: התצוגה השבועית תופסת את רוחב העמוד כברירת מחדל.

- ניהול המשימות חייב לכלול: הוספה, סימון כבוצע, ומחיקה.
- המשימות חייבות להישמר "שמירה אמיתית" מקומית בדפדפן (למשל `localStorage`) כך שרענון דף לא מוחק אותן.

#### שמירה אמיתית (הגדרה טכנית)

- "שמירה אמיתית" באתר = נשמר מקומית בדפדפן באמצעות `localStorage`, כך שזה נשמר בין רענונים/סגירה.
- זה **לא** מסונכרן בין מכשירים אוטומטית (אלא אם מייצרים מנגנון GitHub עם הרשאות, שלא קיים כברירת מחדל).
- מפתח שמירה למשימות: `sefer1_todos_v1`.
- אם `localStorage` חסום/מוגבל בדפדפן, האתר חייב להמשיך לעבוד בלי לקרוס (גם אם השמירה לא זמינה).

#### סנכרון אוטומטי בין תצוגות (יומי/שבועי/חודשי)

- כל נתון אישי שנשמר באתר (למשל משימות לביצוע והערות ליום) נשמר פעם אחת ב־`localStorage` ולכן זמין מכל דפי האתר.
- מעבר בין תצוגה שבועית/חודשית לעמוד היומי חייב לשמור על עקביות `owner/repo/branch` כדי שהמפתחות יהיו זהים והשמירה/טעינה יהיו מסונכרנות.
- אם פתוחות כמה לשוניות/חלונות במקביל, עדכונים נשמרים ומסתנכרנים דרך אירוע `storage` (כשהדף הרלוונטי מאזין לכך).

#### סנכרון אמיתי בין מכשירים (מחייב)

מטרה: שהנתונים האישיים שלך (משימות + הערות יומיות) יופיעו **באותו מצב** גם במכשירים שונים (מחשב/טלפון/טאבלט). זה לא יכול לקרות עם `localStorage` בלבד כי הוא מקומי לכל דפדפן.

**מקור הסנכרון**

- הסנכרון מתבצע דרך GitHub באמצעות **Gist פרטי**.
- זה סנכרון ידני (Pull/Push) — אין “סנכרון אוטומטי ברקע” כברירת מחדל.

**מה מסונכרן (מחייב)**

- משימות: `sefer1_todos_v1`
- הערות יומיות: כל מפתח שמתחיל ב־`sefer1_day_notes_v1:`

**מזהה הסנכרון (קריטי: Gist ID)**

- כדי שכל המכשירים יסתנכרנו לאותו מקום, **חייבים להשתמש באותו `Gist ID` בכל מכשיר**.
- אם במכשיר חדש לוחצים “שלח לגיטהאב” בלי `Gist ID` קיים — ייווצר **Gist חדש**, ואז יהיו לך נתונים שמתפצלים (לא אותו סנכרון).

**חשוב להבין: למה לפעמים “בדפדפן חיצוני” הנתונים נראים ריקים**

- `localStorage` הוא מקומי לפי *דפדפן/פרופיל* ולפי *origin* (כולל פורט).
- ה־VS Code Simple Browser הוא “דפדפן פנימי” עם אחסון מקומי נפרד מהדפדפן החיצוני (Chrome/Edge וכו').
- לכן: גם אם פותחים אותו URL, אם כתבת נתונים בתוך Simple Browser — הדפדפן החיצוני לא “יראה” את `localStorage` של VS Code, ולהפך.
- הפתרון היחיד להצגה עקבית מחוץ ל־VS Code הוא סנכרון דרך GitHub Gist (כלומר Pull/Push).

**פתיחה מחוץ ל־VS Code (קישור חיצוני) חייבת להציג נתונים אמיתיים**

- כדי שבדפדפן חיצוני תראה את הנתונים שנשמרו ולא “מצב ריק”, חייב להיות מוגדר `Gist ID` באותו דפדפן.
- יש שתי דרכים להגדיר `Gist ID` בדפדפן חיצוני:
  - להדביק אותו ידנית בשדה `Gist ID` בעמוד הראשי.
  - או לפתוח את האתר עם פרמטר ב־URL: `?gistId=<GIST_ID>` (ואז הוא נשמר בדפדפן אוטומטית).

**משיכה אוטומטית (כדי שלא תרגיש “דמו”)**

- כאשר בדפדפן הנוכחי אין עדיין נתונים מקומיים (אין משימות ואין הערות יומיות), האתר מבצע ניסיון משיכה אוטומטי מגיטהאב פעם אחת בעת טעינה.
- המשיכה האוטומטית היא “קריאה בלבד” ועשויה לעבוד גם בלי token.
- אם GitHub חוסם משיכה ללא token (או יש rate limit), חייבים להדביק token וללחוץ “קבל מגיטהאב”.
- כדי למנוע דריסה לא צפויה של שינויים מקומיים, המשיכה האוטומטית מתבצעת רק כשהדפדפן ריק מנתונים (ואם יש נתונים מקומיים — משיכה היא ידנית בלבד).

**איפה נשמרים הדברים בדפדפן**

- `Gist ID` נשמר מקומית בדפדפן תחת המפתח: `sefer1_sync_gist_id_v1`.
- הנתונים עצמם נשמרים ב־`localStorage` במפתחות שמצוינים לעיל.
- בתוך ה־Gist נשמר קובץ בשם: `sefer1-sync.json`.

**שדות ב־UI (בעמוד הראשי)**

- `Gist ID` — מזהה ה־Gist שאליו עושים Pull/Push. ניתן להדביק/לעדכן ידנית.
- `Token` — GitHub Personal Access Token עם הרשאת `gist`.
  - הטוקן **לא נשמר** בדפדפן (מוזן ידנית בכל מכשיר).

**תהליך עבודה מומלץ (מכשיר ראשי)**

1. הדבק `Token`.
2. לחץ “שלח לגיטהאב”.
3. אם אין עדיין `Gist ID`, תיווצר יצירה ראשונית של Gist פרטי, וה־`Gist ID` יופיע/יישמר לשימוש.
4. העתק את ה־`Gist ID` הזה למכשירים נוספים.

**תהליך עבודה מומלץ (מכשיר נוסף/חדש)**

1. הדבק בשדה `Gist ID` את המזהה מהמכשיר הראשי.
2. הדבק `Token`.
3. לחץ “קבל מגיטהאב” כדי למשוך נתונים.
4. אחרי המשיכה, הנתונים נמצאים ב־`localStorage` ויהיו זמינים ביומי/שבועי/חודשי.

**כללי מיזוג/הכרעה (איך מתנהג כשיש הבדלים)**

- משימות: המיזוג מתבצע לפי `id`. כאשר קיימת אותה משימה (אותו `id`) מקומית וברחוק — ערך מרחוק גובר.
- הערות יומיות: לפי מפתח מלא; ערך מרחוק גובר על אותו מפתח.

**כללי בטיחות והרשאות (מחייב)**

- לא שומרים טוקן בדפדפן ולא מעלים טוקן לקוד/ל־GitHub.
- מומלץ ליצור טוקן עם הרשאת `gist` בלבד (מינימום הרשאות).
- מותר לשתף בין מכשירים רק את `Gist ID` (הוא לא סוד כמו טוקן). טוקן הוא אישי — לא משתפים.

**מגבלות חשובות (כדי שלא תהיה הפתעה)**

- זה לא “סנכרון בזמן אמת” בין מכשירים: צריך ללחוץ Pull/Push.
- אם אחרי Pull המסך לא מתעדכן מייד, רענון דף/מעבר תצוגה יטעין את הערכים החדשים מה־`localStorage`.

### יומן שבועי (בעמוד הכניסה)

- בעמוד הכניסה חייבת להיות תצוגה שבועית של **שבוע אמיתי** (ראשון–שבת) עבור השבוע הנוכחי.
- סדר הימים בתצוגה השבועית חייב להיות נוח לקריאה (בהתאמה ל־RTL).
- כברירת מחדל: ראשון בצד ימין, שבת בצד שמאל.
- בשבוע הנוכחי (כאשר מוצג השבוע של היום): **היום הנוכחי חייב להיות התא הימני ביותר** בתצוגה השבועית.
- פורמט התאריך שמוצג בכותרת התצוגה השבועית חייב להיות קצר ונוח: `יום/חודש` (למשל `9/9`).
- בכל משבצת/יום בתצוגה השבועית חייב להופיע גם תאריך קצר בפורמט `יום/חודש` (למשל `7/4`).
- כל מה שנכתב ונשמר בעמוד היומי ("הערות ליום") חייב להופיע גם בתצוגה השבועית בתוך המשבצת של אותו היום.
- אסור להציג את אותו תאריך פעמיים בתוך אותה משבצת/כרטיס (למשל תאריך קטן שחוזר על עצמו בנוסף למידע שכבר מוצג).
- היום (של היום) חייב להיות צבוע תמיד בירוק בתצוגה השבועית.
- היומן השבועי חייב להיות גדול וברור — בערך פי 3 מהגודל הקודם (משבצות גבוהות יותר וטקסט גדול יותר).
- לחיצה על יום בתצוגה השבועית חייבת לפתוח **עמוד יומי** בתוך האתר שמציג את התוכן שנשמר לאותו יום ("הערות ליום").
- ימי שבת בתצוגה השבועית חייבים להיות צבועים תמיד בסגול בהיר.
- בתצוגה השבועית חייבים להופיע נתוני שבת אמיתיים (לוח שנה עברי):
  - בכל יום שבת חייב להופיע "פרשת השבוע".
  - ביום שישי חייב להופיע "כניסת שבת" (שעת הדלקת נרות).
  - ביום שבת חייב להופיע "יציאת שבת" (הבדלה).
  - הנתונים והזמנים חייבים להיות מדויקים לפי מיקום ירושלים.
  - חישוב כניסת שבת: 18 דקות לפני שקיעה.
  - חישוב יציאת שבת: צאת הכוכבים (nightfall / tzeit) לפי ברירת מחדל של Hebcal.
  - חייב להופיע קרדיט ברור למקור הנתונים: Hebcal.com (קישור).
  - הטקסט של "כניסת שבת", "יציאת שבת" ו"פרשת השבוע" חייב להיות בולט וברור: פונט מודגש וצבעים מובחנים.
  - בכתיבה על המסך אסור להשתמש בנקודתיים (:) בתוך שורות "כניסת שבת", "יציאת שבת" ו"פרשת השבוע".
  - ההודעות של שישי/שבת (שעות ופרשה) חייבות להיות ממורכזות בתא השבועי (מיושר למרכז וברור).
- חייבים להיות כפתורים ליד כותרת התצוגה השבועית:
  - כפתור **"שבוע קודם"** וכפתור **"שבוע הבא"** שמחליפים את השבוע שמוצג.
  - הניווט שבוע קודם/הבא חייב להישמר ברענון הדף באמצעות פרמטר `weekOffset` ב־URL.
  - הכפתורים מוצגים כחיצים:
    - כפתור שבוע קודם חייב להציג טקסט **"שבוע קודם"** יחד עם **חץ ימינה (→)**, ובמעבר השבוע התצוגה מחליקה ימינה באנימציה קצרה וחלקה.
    - כפתור שבוע הבא חייב להציג טקסט **"שבוע הבא"** יחד עם **חץ שמאלה (←)**, ובמעבר השבוע התצוגה מחליקה שמאלה באנימציה קצרה וחלקה.
  - החיצים חייבים להיות בצבעים שונים: אחד צהוב ואחד ורוד.
  - כפתור **"תצוגה חודשית"** בצבע אדום שמוביל לתצוגת חודש.
  - כפתור **"תצוגה יומית"** בצבע כתום שמוביל לעמוד היומי של **היום הנוכחי**.

### יומן חודשי (עמוד נפרד)

- תצוגת היומן החודשית חייבת להיות בעמוד נפרד (למשל `אתר/יומן-חודשי.html`).
- בתצוגה החודשית חייבים להופיע שמות מלאים לימי השבוע ("ראשון", "שני", וכו') והם חייבים להיות מודגשים לקריאות.
- לחיצה על יום בתצוגה החודשית חייבת לפתוח את העמוד היומי.
- ימי שבת בתצוגה החודשית חייבים להיות צבועים תמיד בסגול בהיר.
- היום (של היום) חייב להיות צבוע תמיד בירוק בתצוגה החודשית.
- בתצוגה החודשית בשבת חייב להופיע רק שם פרשת השבוע (לדוגמה "משפטים") וזהו
- בתצוגה החודשית לא מציגים שעות כניסת שבת או יציאת שבת

### יומן יומי (עמוד נפרד)

- העמוד היומי מציג רק תוכן שנשמר לאותו יום ("הערות ליום").
- בעמוד היומי בימים שישי/שבת חייבים להופיע גם נתוני שבת אמיתיים:
  - ביום שישי: "כניסת שבת".
  - ביום שבת: "פרשת השבוע" ו"יציאת שבת".
  - חייב להופיע קרדיט ברור למקור הנתונים: Hebcal.com (קישור).
  - הטקסט של "כניסת שבת", "יציאת שבת" ו"פרשת השבוע" חייב להיות בולט וברור: פונט מודגש וצבעים מובחנים.
  - בכתיבה על המסך אסור להשתמש בנקודתיים (:) בתוך שורות "כניסת שבת", "יציאת שבת" ו"פרשת השבוע".
- בעמוד היומי חייבים להיות כפתורי ניווט: יום קודם, היום, יום הבא.
- בעמוד היומי חייב להיות אזור "הערות ליום" שנשמר **באופן אמיתי** מקומית בדפדפן (למשל באמצעות `localStorage`) לפי התאריך.

#### מקור נתוני שבת/פרשת שבוע (מחייב)

- מקור הנתונים היחיד לפרשת השבוע ולזמני שבת באתר: Hebcal REST API.
- סנכרון מוחלט וברור
  - אותו מקור נתונים משמש לכל התצוגות שבועי חודשי יומי
  - התצוגה השבועית והעמוד היומי מציגים שעות ופרשה לפי התאריך
  - התצוגה החודשית מציגה רק את שם הפרשה בשבת לפי אותו מקור
- אם טעינת הנתונים מהרשת נכשלת, האתר חייב להמשיך לעבוד בלי לקרוס (פשוט לא להציג את הנתונים עד שיהיו זמינים).
- מותר (ומומלץ) לשמור Cache מקומי בדפדפן כדי להקטין תלות ברשת ולהאיץ טעינה.

#### שמירה אמיתית (הערות ליום)

- ההערות נשמרות ב־`localStorage` לפי תאריך.
- ההערות נשמרות גם אוטומטית בזמן הקלדה (autosave שקט), וביציאה מהדף/הסתרת לשונית.
- מפתח שמירה (סכמטי): `sefer1_day_notes_v1:<owner>/<repo>/<branch>:<YYYY-MM-DD>`.
- כניסה לעמוד היומי מהתצוגה השבועית ומהתצוגה החודשית חייבת לשמור על עקביות של `owner/repo/branch` כדי שהטעינה/שמירה יהיו זהות מכל מקום.

## ניווט בין כל דפי האתר (חובה)

בכל דף אתר מרכזי חייב להופיע פס ניווט עם כפתורים שמובילים לכל דפי האתר המרכזיים:

- `אתר/index.html` (עמוד כניסה)
- `אתר/hishtalmut.html` (השתלמויות)
- `אתר/שיעורים-פרטיים.html` (שיעורים פרטיים)
- `אתר/יומן.html` (יומן)
- `אתר/about.html` (אודות)

## הפרדת HTML/CSS (חובה)

האתר חייב לשמור על הפרדה מלאה בין מבנה (HTML) לעיצוב (CSS).

### כללים

- אסור להשתמש ב־`<style>...</style>` בתוך קבצי HTML.
- אסור להשתמש ב־`style="..."` (inline styles) בתוך תגיות HTML.
- כל העיצוב נכנס ל־`אתר/styles.css` בלבד.
- שינויי מצב דינמיים (הסתרה/הצגה) נעשים דרך `hidden` או דרך מחלקות CSS שמוגדרות ב־`אתר/styles.css` (לא דרך inline).

## שיעורים פרטיים (דף אתר)

דף זה הוא עמוד קבוע באתר שמרכז קישורי תיאום/יצירת קשר.

### מיקום

- `אתר/שיעורים-פרטיים.html`

### חובה בעמוד

- כותרת ברורה + קישור חזרה לעמוד הראשי.
- לחצן ראשי שמוביל לפרופיל GitHub (כנתיב יצירת קשר יחיד/מרכזי, אלא אם נוסיף בעתיד פרטי קשר רשמיים).
- קישור ל"יומן" (כדי להבין מה עודכן בפרויקט) וקישור לעמוד ההשתלמויות.

### אסור

- לא מפרסמים טקסט דמו/טיוטה/"בקרוב".
- לא מוסיפים פרטים/מחירים/הבטחות שלא הוגדרו במפורש.

## יומן (דף אתר)

דף זה מספק נקודת כניסה מסודרת למעקב שינויים לפי GitHub-first.

### מיקום

- `אתר/יומן.html`

### חובה בעמוד

- קישור להיסטוריית ה־commits של הריפו.
- קישור למסמך הכללים (כולל "יומן עדכונים").
- כותרת + קישור חזרה לעמוד הראשי.

### אסור

- לא מכפילים פה תוכן ארוך של היסטוריה; המקור הוא GitHub.

## בלי טקסט “דמו” / מקום־מחזיק

אסור להשאיר/לפרסם תוכן שנראה כמו דמו/טיוטה/דוגמה, אלא אם ביקשת במפורש.

- אסור בתוכן שמופיע למשתמשים: `demo`, `דמו`, `sample`, `placeholder`, `lorem ipsum`, `TODO`, `TBD`, “בקרוב”.
- אם חסר מידע/קישור — משאירים אותו בחוץ עד שיש ניסוח/URL סופי.

## גרפיקה לאתר (אתר) — כלים וכללים

### כלים

- Figma — עיצוב מסכים ורכיבי UI, ייצוא SVG/PNG.
- Inkscape — עריכת SVG.
- Squoosh — כיווץ תמונות.
- SVGO — כיווץ וניקוי SVG.

### פורמטים

- SVG: אייקונים/לוגואים.
- WebP/AVIF: תמונות.
- PNG: רק כשצריך שקיפות אמיתית.
- JPEG: אם חייבים תאימות מקסימלית.

### שמות קבצים

- באנגלית, `kebab-case`, בלי רווחים.

### רישוי

- מעלים למאגר רק נכסים שיש לך זכות שימוש בהם.

## השתלמויות (hishtalmut)

דף זה מגדיר את הכללים לנתוני ההשתלמויות בדף `אתר/hishtalmut.html`.

### עקרונות

- GitHub הוא מקור האמת היחיד לנתוני ההשתלמויות.
- הנתונים נשמרים בקובץ: `אתר/hishtalmut-data.json`.
- כל שינוי בנתונים חייב לעבור דרך: עריכה → `commit` → `push`.

### מבנה נתונים (דוגמה)

```json
{
  "title": "השתלמות בתנ\"ך – ספר ישעיהו",
  "month": "מרץ",
  "dayOfMonth": 13,
  "weekday": "יום שני",
  "timeRange": "19:30–22:00",
  "hoursTotal": 2.5,
  "category": "תנ\"ך",
  "tags": ["מקצועי", "העמקה"]
}
```

#### שדות חובה

- `title`, `month`, `dayOfMonth`, `weekday`, `timeRange`, `hoursTotal`

#### שדות מומלצים

- `category`, `tags`

## סנכרון אוטומטי ל־GitHub (אחרי commit)

כדי שכל `commit` ידחוף אוטומטית ל־GitHub, הפרויקט משתמש ב־git hooks.

- בפתיחת התיקייה, רצה משימת Setup שמגדירה `core.hooksPath` ל־`.githooks`.
- אחרי כל `commit`, hook מסוג `post-commit` מריץ `git push` לענף הנוכחי.

### חשוב

- זה לא מבצע `commit` אוטומטי לכל שינוי (כדי לא ליצור היסטוריה לא נשלטת). עדיין עובדים לפי: שינוי → בדיקה בלייב → commit → (push אוטומטי).
- אם אין הרשאות/רשת/התחברות — ה־push ייכשל ותצטרך לפתור את ההתחברות ואז להריץ `git push` ידנית.
