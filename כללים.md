# כללים (מסמך יחיד ומחייב)

מסמך זה הוא מקור האמת היחיד לכללי העבודה בפרויקט.

## כלל עליון: מסמך כללים יחיד

- אסור ליצור/להחזיק במאגר דפי כללים נוספים (כמו “כללים2”, “CLALIM…”, “rules…”, וכו').
- כל כלל חדש נכנס **אך ורק** למסמך זה: `כללים.md`.

## שמות קבצים בעברית (מעכשיו)

- כל דף/מסמך חדש שמתווסף לפרויקט (בעיקר `*.md` ועמודי תוכן) יקבל שם קובץ בעברית.
- חריגים טכניים מקובלים בלבד (קבצים שחייבים שם קבוע כדי שהכלים יעבדו).

### חריגים טכניים (לא משנים שם)

- `README.md` (לתצוגת GitHub)
- `אתר/index.html`, `אתר/styles.css`, ויתר קבצי האתר שה־URLs שלהם קבועים
- `.vscode/*` (קונפיגורציית VS Code)
- `.githooks/post-commit` (שם hook מחויב)
- `.git*` (קבצי מערכת)
- `tools/persistent-dev.ps1` (תאימות למשימות VS Code / סביבת הרצה)

## כלל ברזל (מחייב)

בזמן עבודה על האתר, חייב להיות פתוח בתוך VS Code חלון פנימי (Simple Browser) שמציג את האתר **בלייב**, והשרת חייב לרוץ ברקע. אם זה לא פתוח/לא רץ — עוצרים ומתקנים לפני שממשיכים לעבוד.

## תצוגה חיה בחלון פנימי (VS Code)

### איך מפעילים (קבוע)

- המשימה **DEV: Persistent Mode (serve + external browser + VS Code Simple Browser)** מוגדרת לרוץ אוטומטית בפתיחת התיקייה.
- המשימה מרימה `live-server`, פותחת דפדפן חיצוני, וגם פותחת את האתר בחלון פנימי דרך **Simple Browser**.

### אם החלון הפנימי לא נפתח

- Command Palette → `Simple Browser: Show`
- הדבק את ה־URL שמופיע בטרמינל אחרי `DEV_SERVER_READY` (לדוגמה: `http://127.0.0.1:5500/%D7%90%D7%AA%D7%A8/index.html`).

### עצירה

- להריץ את המשימה: **Persistent Mode: Stop (kill task terminal)**
- או: Terminal → Kill Terminal של המשימה.

## GitHub-first (מקור האמת)

המאגר ב־GitHub הוא מקור האמת היחיד. תצוגה מקומית היא כלי עבודה בלבד.

- אם זה לא ב־`commit` ולא ב־GitHub — זה לא קיים.
- לא מסתמכים על מצב מקומי: קבצים לא שמורים, הגדרות מקומיות בלבד, או שינויים שלא נדחפו.

### תהליך עבודה (Multi-device)

1. לפני עבודה: `git pull`
2. בזמן עבודה: לשמור קבצים ולוודא שהתצוגה החיה מתעדכנת.
3. אחרי שינוי משמעותי: `git add` → `git commit` → `git push`

## יומן עדכונים (חובה)

כל שינוי בפרויקט חייב להירשם בקצרה כדי לשמור עקביות ולהבין מה השתנה ולמה.

### מה נחשב “עדכון” שחייב להירשם

- אתר (`אתר/`), תיעוד (`README.md`, קבצי `*.md`), הגדרות (`.vscode/`), סקריפטים (`כלים/`), פרומפטים (`פרומפטים/`).
- כל שינוי שבוצע בעקבות בקשה/מסר בשיחה.

### איך רושמים

- בכל שינוי: להוסיף שורה חדשה עם תאריך (YYYY-MM-DD), מה השתנה (קבצים/אזור), וסיבה קצרה.

### רשומות

- 2026-02-08 — הוגדרה תצוגה חיה קבועה ב־VS Code + Theme בהיר ל־workspace + עדכון דף כללים.
- 2026-02-08 — נוספו דפי אתר: שיעורים פרטיים + יומן, ונוסף ניווט אליהם בעמוד הכניסה.
- 2026-02-08 — תוקנה משימת DEV כך שתיפתח תמיד תצוגת `אתר/` (ללא תלות בנתיבים ישנים).

## עמוד כניסה (ניווט חובה)

בעמוד הכניסה של האתר `אתר/index.html` חייבים להיות לחצנים שמובילים לפחות ל:

- דף ההשתלמויות: `אתר/hishtalmut.html`
- דף שיעורים פרטיים: `אתר/שיעורים-פרטיים.html`
- דף יומן: `אתר/יומן.html`

## שיעורים פרטיים (דף אתר)

דף זה הוא עמוד קבוע באתר שמרכז קישורי תיאום/יצירת קשר.

### מיקום

- `אתר/שיעורים-פרטיים.html`

### חובה בעמוד

- כותרת ברורה + קישור חזרה לעמוד הראשי.
- לחצן ראשי שמוביל לפרופיל GitHub (כנתיב יצירת קשר יחיד/מרכזי, אלא אם נוסיף בעתיד פרטי קשר רשמיים).
- קישור ל"יומן" (כדי להבין מה עודכן בפרויקט) וקישור לעמוד ההשתלמויות.

### אסור

- לא מפרסמים טקסט דמו/טיוטה/"בקרוב".
- לא מוסיפים פרטים/מחירים/הבטחות שלא הוגדרו במפורש.

## יומן (דף אתר)

דף זה מספק נקודת כניסה מסודרת למעקב שינויים לפי GitHub-first.

### מיקום

- `אתר/יומן.html`

### חובה בעמוד

- קישור להיסטוריית ה־commits של הריפו.
- קישור למסמך הכללים (כולל "יומן עדכונים").
- כותרת + קישור חזרה לעמוד הראשי.

### אסור

- לא מכפילים פה תוכן ארוך של היסטוריה; המקור הוא GitHub.

## בלי טקסט “דמו” / מקום־מחזיק

אסור להשאיר/לפרסם תוכן שנראה כמו דמו/טיוטה/דוגמה, אלא אם ביקשת במפורש.

- אסור בתוכן שמופיע למשתמשים: `demo`, `דמו`, `sample`, `placeholder`, `lorem ipsum`, `TODO`, `TBD`, “בקרוב”.
- אם חסר מידע/קישור — משאירים אותו בחוץ עד שיש ניסוח/URL סופי.

## גרפיקה לאתר (אתר) — כלים וכללים

### כלים

- Figma — עיצוב מסכים ורכיבי UI, ייצוא SVG/PNG.
- Inkscape — עריכת SVG.
- Squoosh — כיווץ תמונות.
- SVGO — כיווץ וניקוי SVG.

### פורמטים

- SVG: אייקונים/לוגואים.
- WebP/AVIF: תמונות.
- PNG: רק כשצריך שקיפות אמיתית.
- JPEG: אם חייבים תאימות מקסימלית.

### שמות קבצים

- באנגלית, `kebab-case`, בלי רווחים.

### רישוי

- מעלים למאגר רק נכסים שיש לך זכות שימוש בהם.

## השתלמויות (hishtalmut)

דף זה מגדיר את הכללים לנתוני ההשתלמויות בדף `אתר/hishtalmut.html`.

### עקרונות

- GitHub הוא מקור האמת היחיד לנתוני ההשתלמויות.
- הנתונים נשמרים בקובץ: `אתר/hishtalmut-data.json`.
- כל שינוי בנתונים חייב לעבור דרך: עריכה → `commit` → `push`.

### מבנה נתונים (דוגמה)

```json
{
  "title": "השתלמות בתנ\"ך – ספר ישעיהו",
  "month": "מרץ",
  "dayOfMonth": 13,
  "weekday": "יום שני",
  "timeRange": "19:30–22:00",
  "hoursTotal": 2.5,
  "category": "תנ\"ך",
  "tags": ["מקצועי", "העמקה"]
}
```

#### שדות חובה

- `title`, `month`, `dayOfMonth`, `weekday`, `timeRange`, `hoursTotal`

#### שדות מומלצים

- `category`, `tags`

## סנכרון אוטומטי ל־GitHub (אחרי commit)

כדי שכל `commit` ידחוף אוטומטית ל־GitHub, הפרויקט משתמש ב־git hooks.

- בפתיחת התיקייה, רצה משימת Setup שמגדירה `core.hooksPath` ל־`.githooks`.
- אחרי כל `commit`, hook מסוג `post-commit` מריץ `git push` לענף הנוכחי.

### חשוב

- זה לא מבצע `commit` אוטומטי לכל שינוי (כדי לא ליצור היסטוריה לא נשלטת). עדיין עובדים לפי: שינוי → בדיקה בלייב → commit → (push אוטומטי).
- אם אין הרשאות/רשת/התחברות — ה־push ייכשל ותצטרך לפתור את ההתחברות ואז להריץ `git push` ידנית.
